{"ast":null,"code":"import _regeneratorRuntime from\"/Users/yabao/Documents/githubspace/Jutsai-Lab/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/yabao/Documents/githubspace/Jutsai-Lab/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{GET_WEATHER}from\"./Constants\";import axios from\"axios\";import{BASE_URL}from\"../utils/ApiConstants\";import{toast}from\"react-toastify\";export var GetWeatherDetails=function GetWeatherDetails(){var location=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"San Jose\";return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:GET_WEATHER.PENDING});axios.get(BASE_URL,{params:{q:location,units:\"imperial\",// metric, imperial\nlang:\"zh_cn\"}}).then(function(response){return dispatch({type:GET_WEATHER.SUCCESS,payload:response.data});}).catch(function(err){console.log(err.response,err);toast.error(err.response.data.message,{position:\"bottom-center\",autoClose:3000,hideProgressBar:false,closeOnClick:true,pauseOnHover:false,draggable:false});dispatch({type:GET_WEATHER.REJECTED,payload:err.response});});case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};","map":{"version":3,"sources":["/Users/yabao/Documents/githubspace/Jutsai-Lab/src/apps/bao/baoApp/redux/Actions.jsx"],"names":["GET_WEATHER","axios","BASE_URL","toast","GetWeatherDetails","location","dispatch","type","PENDING","get","params","q","units","lang","then","response","SUCCESS","payload","data","catch","err","console","log","error","message","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","REJECTED"],"mappings":"qUAAA,OAASA,WAAT,KAA4B,aAA5B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,uBAAzB,CACA,OAASC,KAAT,KAAsB,gBAAtB,CAEA,MAAO,IAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,MAC/BC,CAAAA,QAD+B,2DACpB,UADoB,gGAE5B,iBAAMC,QAAN,kHACHA,QAAQ,CAAC,CAAEC,IAAI,CAAEP,WAAW,CAACQ,OAApB,CAAD,CAAR,CACAP,KAAK,CAACQ,GAAN,CAAUP,QAAV,CAAoB,CAClBQ,MAAM,CAAE,CACNC,CAAC,CAAEN,QADG,CAENO,KAAK,CAAE,UAFD,CAEa;AACnBC,IAAI,CAAE,OAHA,CADU,CAApB,EAOCC,IAPD,CAOM,SAAAC,QAAQ,QACZT,CAAAA,QAAQ,CAAC,CAAEC,IAAI,CAAEP,WAAW,CAACgB,OAApB,CAA6BC,OAAO,CAAEF,QAAQ,CAACG,IAA/C,CAAD,CADI,EAPd,EAUCC,KAVD,CAUO,SAAAC,GAAG,CAAI,CACZC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACL,QAAhB,CAA0BK,GAA1B,EACAjB,KAAK,CAACoB,KAAN,CAAYH,GAAG,CAACL,QAAJ,CAAaG,IAAb,CAAkBM,OAA9B,CAAuC,CACrCC,QAAQ,CAAE,eAD2B,CAErCC,SAAS,CAAE,IAF0B,CAGrCC,eAAe,CAAE,KAHoB,CAIrCC,YAAY,CAAE,IAJuB,CAKrCC,YAAY,CAAE,KALuB,CAMrCC,SAAS,CAAE,KAN0B,CAAvC,EAQAxB,QAAQ,CAAC,CAAEC,IAAI,CAAEP,WAAW,CAAC+B,QAApB,CAA8Bd,OAAO,CAAEG,GAAG,CAACL,QAA3C,CAAD,CAAR,CACD,CArBD,EAFG,sDAF4B,gEAA1B","sourcesContent":["import { GET_WEATHER } from \"./Constants\";\nimport axios from \"axios\";\nimport { BASE_URL } from \"../utils/ApiConstants\";\nimport { toast } from \"react-toastify\";\n\nexport const GetWeatherDetails = (\n  location = \"San Jose\"\n) => async dispatch => {\n  dispatch({ type: GET_WEATHER.PENDING });\n  axios.get(BASE_URL, {\n    params: {\n      q: location,\n      units: \"imperial\", // metric, imperial\n      lang: \"zh_cn\"\n    }\n  })\n  .then(response =>\n    dispatch({ type: GET_WEATHER.SUCCESS, payload: response.data })\n  )\n  .catch(err => {\n    console.log(err.response, err);\n    toast.error(err.response.data.message, {\n      position: \"bottom-center\",\n      autoClose: 3000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: false,\n      draggable: false\n    });\n    dispatch({ type: GET_WEATHER.REJECTED, payload: err.response });\n  });\n};"]},"metadata":{},"sourceType":"module"}